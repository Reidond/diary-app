(this["webpackJsonpdiary-app"]=this["webpackJsonpdiary-app"]||[]).push([[0],{13:function(e,t,n){e.exports=n(27)},18:function(e,t,n){},19:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),l=(n(18),n(19),n(4)),m=n(5),i=(n(25),function(){return a.a.createElement("div",{className:"text-left p-4"},a.a.createElement("h1",{className:"left-view--h1"},"DIARY APP"),a.a.createElement("p",{className:"left-view--p"},"Comment with no sense"))}),s=(n(26),n(2));var u=function(e){var t=e.addItem,n=Object(r.useState)(""),c=Object(s.a)(n,2),o=c[0],l=c[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={id:"".concat(Math.random().toString(36).substr(2,9)),title:o,isActive:!1};t(n),l("")}},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-9 d-flex flex-grow-1 pl-3"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Type name here...",value:o,onChange:function(e){return l(e.target.value)}})),a.a.createElement("div",{className:"col-3"},a.a.createElement("button",{type:"submit",className:"btn btn-primary w-100 text-white"},"Add new"))))},d=Object(l.b)((function(e){return{comments:e.comments.entries}}),null)((function(e){var t=e.item,n=e.removeItem,c=e.selectItem,o=e.currentItem,l=e.removeCurrentItem,m=e.comments,i=e.removeAllComments,u=function(e){return c(e)},d=Object(r.useState)([]),f=Object(s.a)(d,2),E=f[0],v=f[1],O=Object(r.useState)("col-12"),p=Object(s.a)(O,2),b=p[0],y=p[1];return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)?y("col-12 right-view--active"):y("col-12")}),[o,t]),Object(r.useEffect)((function(){v(m[t.id])}),[m,t.id]),a.a.createElement("div",{className:b},a.a.createElement("div",{className:"right-view--item"},a.a.createElement("div",{className:"row d-flex align-items-center"},a.a.createElement("div",{className:"col-10",onClick:u.bind(null,t),onKeyDown:u.bind(null,t),role:"button",tabIndex:"-1"},a.a.createElement("div",{className:"p-3 font-weight-bold"},t.title," ",a.a.createElement("span",{className:"badge badge-pill badge-primary"},null===E||void 0===E?void 0:E.length))),a.a.createElement("div",{className:"col-2"},a.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(e){e===o.id&&l(),i(e),n(e)}.bind(null,t.id)},"Delete")))))})),f=Object(l.b)((function(e){return{items:e.items.entries,currentItem:e.currentItem.selectedEntry}}),(function(e){return{getItems:function(){return e({type:"ADD_ITEMS_TO_STORE"})},addItem:function(t){return e({type:"ADD_ITEM",payload:t})},removeItem:function(t){return e({type:"REMOVE_ITEM",payload:t})},selectItem:function(t){return e({type:"SELECT_ITEM",payload:t})},loadItem:function(){return e({type:"LOAD_ITEM"})},removeCurrentItem:function(){return e({type:"REMOVE_CURRENT_ITEM"})},getComments:function(){return e({type:"ADD_COMMENTS_TO_STORE"})},removeAllComments:function(t){return e({type:"REMOVE_ALL_COMMENTS",payload:t})}}}))((function(e){var t=e.getItems,n=e.addItem,c=e.removeItem,o=e.items,l=e.currentItem,m=e.selectItem,i=e.loadItem,s=e.removeCurrentItem,f=e.removeAllComments,E=e.getComments;return Object(r.useEffect)((function(){t()}),[t]),Object(r.useEffect)((function(){i()}),[i]),Object(r.useEffect)((function(){E()}),[E]),a.a.createElement("div",{className:"card shadow-sm bg-white rounded"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h2",{className:"card-title right-view--title pb-3"},"Items"),a.a.createElement(u,{addItem:n}),a.a.createElement("div",{className:"row pt-3"},o.map((function(e){return a.a.createElement(d,{currentItem:l,item:e,removeItem:c,removeCurrentItem:s,removeAllComments:f,selectItem:m,key:e.id})})))))})),E=function(e){var t=e.comment;return a.a.createElement("div",{className:"w-100 comment--item"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-2 pl-4"},a.a.createElement("div",{className:"comment--avatar",style:{background:t.avatar}})),a.a.createElement("div",{className:"col-10 pl-2 pr-4"},a.a.createElement("div",null,t.text))))},v=function(){return a.a.createElement("div",{className:"col-12"},"Add some comments...")};var O=function(e){var t=e.addComment,n=e.currentItemId,c=Object(r.useState)(""),o=Object(s.a)(c,2),l=o[0],m=o[1];return a.a.createElement("form",{className:"w-100"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-2 pl-4"},a.a.createElement("div",{className:"comment--avatar comment--avatar-main"})),a.a.createElement("div",{className:"col-10 pl-2 pr-4"},a.a.createElement("textarea",{className:"form-control",rows:"3",value:l,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){var r={id:n,avatar:"#".concat((16777215*Math.random()<<0).toString(16)),text:l};10!==e.keyCode&&13!==e.keyCode||!e.ctrlKey||(t(r),m(""))}}))))},p=function(){return a.a.createElement("div",{className:"col-12"},"Choose item to see and add comments...")},b=Object(l.b)((function(e){return{currentItem:e.currentItem.selectedEntry,comments:e.comments.entries}}),(function(e){return{addComment:function(t){return e({type:"ADD_COMMENT",payload:t})}}}))((function(e){var t=e.currentItem,n=e.addComment,c=e.comments,o=!t||0===Object.keys(t).length,l=Object(r.useState)([]),m=Object(s.a)(l,2),i=m[0],u=m[1];return Object(r.useEffect)((function(){u(c[null===t||void 0===t?void 0:t.id])}),[c,t,i]),a.a.createElement("div",{className:"card shadow-sm bg-white rounded"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h2",{className:"card-title right-view--title"},"Comments ",o?null:"#".concat(t.id)),o?a.a.createElement(p,null):a.a.createElement("div",{className:"card-text"},a.a.createElement("div",{className:"row pt-2"},(null===i||void 0===i?void 0:i.length)?i.map((function(e,t){return a.a.createElement("div",{key:e.id+t,className:"pt-5 col-12 p-0"},a.a.createElement(E,{comment:e}))})):a.a.createElement(v,null)),t&&Object.keys(t).length>0?a.a.createElement("div",{className:"row pt-5"},a.a.createElement(O,{addComment:n,currentItemId:t.id})):null)))})),y=function(){return a.a.createElement("div",{className:"container-fluid p-4"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-6"},a.a.createElement(f,null)),a.a.createElement("div",{className:"col-6"},a.a.createElement(b,null))))};var g=function(){return a.a.createElement("div",{className:"container-fluid h-100"},a.a.createElement("div",{className:"row h-100 fixed-top"},a.a.createElement("div",{className:"col-3 hidden-md-down left-view"},a.a.createElement(i,null)),a.a.createElement("div",{className:"col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"},a.a.createElement(y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N,j=n(1);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,S=(N={},Object(j.a)(N,"ADD_ITEM",(function(e,t){return w({},e,{entries:function(e,t){var n=JSON.parse(localStorage.getItem(e))||[];return n.push(t),localStorage.setItem(e,JSON.stringify(n)),n}("items",t)})})),Object(j.a)(N,"REMOVE_ITEM",(function(e,t){return w({},e,{entries:function(e,t){var n=JSON.parse(localStorage.getItem(e))||[];return n=n.filter((function(e){return e.id!==t})),localStorage.setItem(e,JSON.stringify(n)),n}("items",t)})})),Object(j.a)(N,"ADD_ITEMS_TO_STORE",(function(e){var t=localStorage.getItem("items");return w({},e,{entries:t&&JSON.parse(t)||[]})})),Object(j.a)(N,"DEFAULT",(function(e){return e})),N),D={entries:[]};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,M=(h={},Object(j.a)(h,"SELECT_ITEM",(function(e,t){return localStorage.setItem("current-item",JSON.stringify(t)),_({},e,{selectedEntry:t})})),Object(j.a)(h,"LOAD_ITEM",(function(e){var t=localStorage.getItem("current-item");return _({},e,{selectedEntry:t&&JSON.parse(t)||{}})})),Object(j.a)(h,"REMOVE_CURRENT_ITEM",(function(e){return localStorage.setItem("current-item",null),_({},e,{selectedEntry:null})})),Object(j.a)(h,"DEFAULT",(function(e){return e})),h),A={selectedEntry:{}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=(C={},Object(j.a)(C,"ADD_COMMENTS_TO_STORE",(function(e){var t=localStorage.getItem("comments");return k({},e,{entries:t&&JSON.parse(t)||{}})})),Object(j.a)(C,"ADD_COMMENT",(function(e,t){var n=localStorage.getItem("comments"),r=n&&JSON.parse(n)||{};return"undefined"===typeof r[t.id]?r[t.id]=[t]:r[t.id].push(t),localStorage.setItem("comments",JSON.stringify(r)),k({},e,{entries:r})})),Object(j.a)(C,"REMOVE_ALL_COMMENTS",(function(e,t){var n=localStorage.getItem("comments"),r=n&&JSON.parse(n)||{};return delete r[t],localStorage.setItem("comments",JSON.stringify(r)),k({},e,{entries:r})})),Object(j.a)(C,"DEFAULT",(function(e){return e})),C),L={entries:{}};var x=Object(m.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return(S[t.type]||S.DEFAULT)(e,t.payload)},currentItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;return(M[t.type]||M.DEFAULT)(e,t.payload)},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return(R[t.type]||R.DEFAULT)(e,t.payload)}}),J="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.c,U=Object(m.d)(x,J());o.a.render(a.a.createElement(l.a,{store:U},a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.d91ba94a.chunk.js.map